{%- comment -%}
Generic compact card include.
Inputs:
  - title: string (optional)
  - body_html: HTML string (optional)
  - href: URL for title link (optional)
  - badge_html: HTML/emoji shown to the right of title (optional)
  - date_text: string shown top-left (optional)
  - cta_label: small button label top-right (optional)
  - cta_href: URL for top-right button (optional)
  - extra_html: extra HTML rendered after body (optional)
  - id: container id (optional)
  - class_modifiers: extra classes added to blog-item (optional)
{%- endcomment -%}

<div class="col-md-12"{% if include.id %} id="{{ include.id }}"{% endif %}>
  <div class="blog-item blog-item--compact{% if include.class_modifiers %} {{ include.class_modifiers }}{% endif %}">
    <div class="card">
      <div class="card-body py-1">
        {% if include.date_text or include.cta_href %}
        <div class="d-flex justify-content-between align-items-center mb-0">
          <small class="text-muted">{{ include.date_text }}</small>
          {% if include.cta_href %}
            {% assign is_external = false %}
            {% if include.cta_href contains 'http' %}{% assign is_external = true %}{% endif %}
            <a class="btn btn-sm" href="{{ include.cta_href }}"{% if is_external %} target="_blank" rel="noopener"{% endif %}>{{ include.cta_label | default: 'open' }}</a>
          {% endif %}
        </div>
        {% endif %}

        {% if include.title and include.title != '' %}
        <div class="mb-1 d-flex align-items-baseline justify-content-between">
          {% if include.href %}
            {% assign is_external = false %}
            {% if include.href contains 'http' %}{% assign is_external = true %}{% endif %}
            <a href="{{ include.href }}" class="post-title-link home-post__title"{% if is_external %} target="_blank" rel="noopener"{% endif %}>{{ include.title }}</a>
          {% else %}
            <span class="home-post__title">{{ include.title }}</span>
          {% endif %}
          {% if include.badge_html and include.badge_html != '' %}<span class="emoji-badge">{{ include.badge_html }}</span>{% endif %}
        </div>
        {% endif %}

  {% if include.body_html %}
  <div class="toot-content mb-0{% if include.body_classes %} {{ include.body_classes }}{% endif %}">{{ include.body_html }}</div>
        {% endif %}

        {% if include.extra_html %}
          <div class="card-extra">
            {{ include.extra_html }}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
  </div>
