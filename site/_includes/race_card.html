{% assign status_class = 'race-status-pending' %}
{% assign status_icon = 'fa-regular fa-square-check' %}
{% if include.status == 'completed' %}
  {% assign status_class = 'race-status-completed' %}
{% elsif include.status == 'cancelled' %}
  {% assign status_class = 'race-status-cancelled' %}
  {% assign status_icon = 'fa-regular fa-square-xmark' %}
{% endif %}
{% assign date_obj = include.date | date: "%b-%d" | upcase %}
{% capture title_html %}<span class="race-status {{ status_class }}"><i class="{{ status_icon }}"></i></span> <span class="race-date-prefix">{{ date_obj }}</span> | {{ include.title }}{% endcapture %}
{% capture body_html %}
  <div class="race-meta">
    <a href="{{ include.url }}" class="race-tag" target="_blank" rel="noopener">ðŸ”— race info</a>
    <span class="race-tag">{{ include.distance }}</span>
    {% if include.tags %}
      <span class="race-tags-inline race-tags-group">
        {% for tag in include.tags %}
          {% assign tag_class = '' %}
          {% if tag == 'ultra' %}{% assign tag_class = 'race-tag-ultra' %}
          {% elsif tag == 'trail' %}{% assign tag_class = 'race-tag-trail' %}
          {% elsif tag == 'marathon' %}{% assign tag_class = 'race-tag-marathon' %}
          {% elsif tag == 'half' %}{% assign tag_class = 'race-tag-half' %}
          {% elsif tag == 'backyard' %}{% assign tag_class = 'race-tag-backyard' %}
          {% endif %}
          <span class="race-tag {{ tag_class }}">{{ tag }}</span>
        {% endfor %}
      </span>
    {% endif %}
  </div>
{% endcapture %}
{% if include.blog_url %}
  {% include table_card.html title_html=title_html body_html=body_html href=include.blog_url %}
{% else %}
  {% include table_card.html title_html=title_html body_html=body_html href=include.url %}
{% endif %}
