@import "../variables";

// Home hero and grid
.home-hero {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-bottom: 1.25rem;
  align-items: start;
  .home-hero__img { width: 100%; border-radius: 10px; box-shadow: 0 2px 14px rgba(0,0,0,0.08); object-fit: cover; max-height: 340px; }
  .home-hero__text { h1 { margin: 0 0 0.25rem 0; } p { margin: 0 0 0.75rem 0; color: $text-muted; } }
  .home-hero__cta { margin-top: 0.25rem; }
  @media (min-width: $bp-desktop-min) { grid-template-columns: 5fr 4fr; .home-hero__img { max-height: 420px; } }
}

// Tablet adjustments
@media (min-width: $bp-ipad-min) and (max-width: $bp-ipad-max) {
  .home-hero { grid-template-columns: 6fr 5fr; gap: 0.75rem; }
  .home-hero .home-hero__img { max-height: 380px; }
  .home-hero .home-hero__text h1 { font-size: 2.25rem; line-height: 1.15; }
}

// Front-page badges layout on tablets
@media (min-width: $bp-ipad-min) and (max-width: $bp-ipad-max) {
  .home-hero .external-race-links { display: grid; grid-template-columns: repeat(2, max-content); gap: 0.5rem 0.6rem; align-items: center; }
  .home-hero .external-race-links .result-badge { margin: 0 !important; }
}

.home-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; .home-post { margin-bottom: 0.5rem; } }

// Compact variants for homepage
.home-post--compact .card-body { padding: 0.6rem 0.75rem; }
.blog-item--compact { margin-bottom: 0.6rem; padding-bottom: 0.6rem; border-bottom: 1px solid rgba(252, 76, 2, 0.08); .home-post__title { font-size: 1.05rem; } }
.list-cards .blog-item { margin-bottom: 0.6rem; padding-bottom: 0.6rem; border-bottom: 1px solid rgba(252, 76, 2, 0.08); }
.list-cards .blog-item--compact .card-body { padding-bottom: 0.6rem; }
.list-cards .blog-item--compact .toot-content:last-child,
.list-cards .blog-item--compact .toot-media-grid:last-child,
.list-cards .blog-item--compact .race-tag:last-child,
.list-cards .blog-item--compact .card-extra:last-child { margin-bottom: 0; }
.list-cards .blog-item--compact .card-extra { margin-top: 0.4rem; }
.list-cards .blog-item--compact .race-tag { margin-right: 0.35rem; margin-bottom: 0.35rem; }

// Grid of samples (posts, updates, results) shared layout used on home
.home-samples { display: grid; grid-template-columns: 1fr; gap: 0.6rem; align-items: stretch; > * { min-width: 0; } @media (min-width: $bp-desktop-min) { grid-template-columns: repeat(2, minmax(0, 1fr)); } &.home-samples--four { @media (min-width: $bp-desktop-min) { grid-template-columns: repeat(4, minmax(0, 1fr)); } } &.home-samples--two { @media (min-width: $bp-desktop-min) { grid-template-columns: repeat(2, minmax(0, 1fr)); } } }
.home-samples .card { height: 100%; }
.home-samples .home-post .card-body { display: flex; flex-direction: column; }
.home-samples .home-post .card-body .text-right:last-child { margin-top: auto; }
.home-samples .home-post .d-flex.align-items-baseline { align-items: center !important; }
.home-samples .home-post.position-relative .stretched-link { z-index: 1; }
.home-samples .home-post { cursor: pointer; }
.home-samples .home-post .card-text,
.home-samples .home-post .home-post__title { overflow-wrap: anywhere; word-break: break-word; }

// Home post title color behavior
.home-post__title {
  color: $link-color !important;
  &:hover,
  &:focus { color: $link-hover-color !important; }
}

// Homepage intro spacing and list bullets
.blog-item.intro { margin-bottom: 0.9em; padding-bottom: 0.9em; }
.blog-item.intro ul {
  list-style: none;
  padding-left: 0;
  margin: 1em 0;
  li {
    position: relative;
    padding-left: 1.8em;
    margin-bottom: 0.8em;
    transition: all 0.3s ease;
    &::before { content: ">"; position: absolute; left: 0; color: $trail-green; font-size: 0.9em; transition: all 0.3s ease; }
    &:hover { padding-left: 2em; color: $heading-secondary; &::before { transform: translateX(3px); } }
    @media (max-width: 767px) {
      padding-left: 1.5em; margin-bottom: 0.6em;
      &:hover { padding-left: 1.7em; &::before { transform: translateX(2px); } }
    }
  }
}

// Front list spacing helpers
.front-list .blog-item { margin-bottom: 1em; padding-bottom: 1em; border-bottom: 1px solid rgba(252, 76, 2, 0.1); }
.front-list .blog-item:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
.front-list .row > .col-md-12 { margin-bottom: 0.8rem; }
.front-list .row > .col-md-12:last-child { margin-bottom: 0; }

// Small helpers used on home
.emoji-badge { font-size: 0.95rem; line-height: 1; }
.home-card-sep { margin: 0.35rem 0 0.45rem 0; border: 0; border-top: 1px solid rgba(252, 76, 2, 0.08); }
.home-sample-tags { margin-top: 0.25rem; }
.home-sample-tags .race-tags-inline { display: inline-flex; gap: 0.25rem; flex-wrap: wrap; }

// RSS link styles (used on home header)
.rss-link-block { text-align: right; }
.rss-link, .rss-link-inline { color: $link-color; text-decoration: none; }
.rss-link:hover, .rss-link-inline:hover { color: $link-hover-color; text-decoration: none; }
.rss-link--float { float: right; margin: 0.15rem 0 0.35rem 0.6rem; line-height: 1; }
@media (max-width: $bp-compact) { .rss-link--float { float: none; display: inline-block; margin-left: 0.25rem; } }
